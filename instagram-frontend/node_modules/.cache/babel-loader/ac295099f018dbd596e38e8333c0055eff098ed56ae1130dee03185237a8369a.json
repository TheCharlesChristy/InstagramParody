{"ast":null,"code":"'use strict';\n\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\n// eslint-disable-next-line\nvar Native = require('pg-native');\nvar TypeOverrides = require('../type-overrides');\nvar semver = require('semver');\nvar pkg = require('../../package.json');\nvar assert = require('assert');\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('util');\nvar ConnectionParameters = require('../connection-parameters');\nvar msg = 'Version >= ' + pkg.minNativeVersion + ' of pg-native required.';\nassert(semver.gte(Native.version, pkg.minNativeVersion), msg);\nvar NativeQuery = require('./query');\nvar Client = module.exports = function (config) {\n  EventEmitter.call(this);\n  config = config || {};\n  this._Promise = config.Promise || global.Promise;\n  this._types = new TypeOverrides(config.types);\n  this.native = new Native({\n    types: this._types\n  });\n  this._queryQueue = [];\n  this._ending = false;\n  this._connecting = false;\n  this._connected = false;\n  this._queryable = true;\n\n  // keep these on the object for legacy reasons\n  // for the time being. TODO: deprecate all this jazz\n  var cp = this.connectionParameters = new ConnectionParameters(config);\n  this.user = cp.user;\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: cp.password\n  });\n  this.database = cp.database;\n  this.host = cp.host;\n  this.port = cp.port;\n\n  // a hash to hold named queries\n  this.namedQueries = {};\n};\nClient.Query = NativeQuery;\nutil.inherits(Client, EventEmitter);\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = query => {\n    process.nextTick(() => {\n      query.native = this.native;\n      query.handleError(err);\n    });\n  };\n  if (this._hasActiveQuery()) {\n    enqueueError(this._activeQuery);\n    this._activeQuery = null;\n  }\n  this._queryQueue.forEach(enqueueError);\n  this._queryQueue.length = 0;\n};\n\n// connect to the backend\n// pass an optional callback to be called once connected\n// or with an error if there was a connection error\nClient.prototype._connect = function (cb) {\n  var self = this;\n  if (this._connecting) {\n    process.nextTick(() => cb(new Error('Client has already been connected. You cannot reuse a client.')));\n    return;\n  }\n  this._connecting = true;\n  this.connectionParameters.getLibpqConnectionString(function (err, conString) {\n    if (err) return cb(err);\n    self.native.connect(conString, function (err) {\n      if (err) {\n        self.native.end();\n        return cb(err);\n      }\n\n      // set internal states to connected\n      self._connected = true;\n\n      // handle connection errors from the native layer\n      self.native.on('error', function (err) {\n        self._queryable = false;\n        self._errorAllQueries(err);\n        self.emit('error', err);\n      });\n      self.native.on('notification', function (msg) {\n        self.emit('notification', {\n          channel: msg.relname,\n          payload: msg.extra\n        });\n      });\n\n      // signal we are connected now\n      self.emit('connect');\n      self._pulseQueryQueue(true);\n      cb();\n    });\n  });\n};\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback);\n    return;\n  }\n  return new this._Promise((resolve, reject) => {\n    this._connect(error => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n\n// send a query to the server\n// this method is highly overloaded to take\n// 1) string query, optional array of parameters, optional function callback\n// 2) object query with {\n//    string query\n//    optional array values,\n//    optional function callback instead of as a separate parameter\n//    optional string name to name & cache the query plan\n//    optional string rowMode = 'array' for an array of results\n//  }\nClient.prototype.query = function (config, values, callback) {\n  var query;\n  var result;\n  var readTimeout;\n  var readTimeoutTimer;\n  var queryCallback;\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query');\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout;\n    result = query = config;\n    // accept query(new Query(...), (err, res) => { }) style\n    if (typeof values === 'function') {\n      config.callback = values;\n    }\n  } else {\n    readTimeout = this.connectionParameters.query_timeout;\n    query = new NativeQuery(config, values, callback);\n    if (!query.callback) {\n      let resolveOut, rejectOut;\n      result = new this._Promise((resolve, reject) => {\n        resolveOut = resolve;\n        rejectOut = reject;\n      });\n      query.callback = (err, res) => err ? rejectOut(err) : resolveOut(res);\n    }\n  }\n  if (readTimeout) {\n    queryCallback = query.callback;\n    readTimeoutTimer = setTimeout(() => {\n      var error = new Error('Query read timeout');\n      process.nextTick(() => {\n        query.handleError(error, this.connection);\n      });\n      queryCallback(error);\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {};\n\n      // Remove from queue\n      var index = this._queryQueue.indexOf(query);\n      if (index > -1) {\n        this._queryQueue.splice(index, 1);\n      }\n      this._pulseQueryQueue();\n    }, readTimeout);\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer);\n      queryCallback(err, res);\n    };\n  }\n  if (!this._queryable) {\n    query.native = this.native;\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'));\n    });\n    return result;\n  }\n  if (this._ending) {\n    query.native = this.native;\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'));\n    });\n    return result;\n  }\n  this._queryQueue.push(query);\n  this._pulseQueryQueue();\n  return result;\n};\n\n// disconnect from the backend server\nClient.prototype.end = function (cb) {\n  var self = this;\n  this._ending = true;\n  if (!this._connected) {\n    this.once('connect', this.end.bind(this, cb));\n  }\n  var result;\n  if (!cb) {\n    result = new this._Promise(function (resolve, reject) {\n      cb = err => err ? reject(err) : resolve();\n    });\n  }\n  this.native.end(function () {\n    self._errorAllQueries(new Error('Connection terminated'));\n    process.nextTick(() => {\n      self.emit('end');\n      if (cb) cb();\n    });\n  });\n  return result;\n};\nClient.prototype._hasActiveQuery = function () {\n  return this._activeQuery && this._activeQuery.state !== 'error' && this._activeQuery.state !== 'end';\n};\nClient.prototype._pulseQueryQueue = function (initialConnection) {\n  if (!this._connected) {\n    return;\n  }\n  if (this._hasActiveQuery()) {\n    return;\n  }\n  var query = this._queryQueue.shift();\n  if (!query) {\n    if (!initialConnection) {\n      this.emit('drain');\n    }\n    return;\n  }\n  this._activeQuery = query;\n  query.submit(this);\n  var self = this;\n  query.once('_done', function () {\n    self._pulseQueryQueue();\n  });\n};\n\n// attempt to cancel an in-progress query\nClient.prototype.cancel = function (query) {\n  if (this._activeQuery === query) {\n    this.native.cancel(function () {});\n  } else if (this._queryQueue.indexOf(query) !== -1) {\n    this._queryQueue.splice(this._queryQueue.indexOf(query), 1);\n  }\n};\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn);\n};\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format);\n};","map":{"version":3,"names":["Native","require","TypeOverrides","semver","pkg","assert","EventEmitter","util","ConnectionParameters","msg","minNativeVersion","gte","version","NativeQuery","Client","module","exports","config","call","_Promise","Promise","global","_types","types","native","_queryQueue","_ending","_connecting","_connected","_queryable","cp","connectionParameters","user","Object","defineProperty","configurable","enumerable","writable","value","password","database","host","port","namedQueries","Query","inherits","prototype","_errorAllQueries","err","enqueueError","query","process","nextTick","handleError","_hasActiveQuery","_activeQuery","forEach","length","_connect","cb","self","Error","getLibpqConnectionString","conString","connect","end","on","emit","channel","relname","payload","extra","_pulseQueryQueue","callback","resolve","reject","error","values","result","readTimeout","readTimeoutTimer","queryCallback","undefined","TypeError","submit","query_timeout","resolveOut","rejectOut","res","setTimeout","connection","index","indexOf","splice","clearTimeout","push","once","bind","state","initialConnection","shift","cancel","setTypeParser","oid","format","parseFn","getTypeParser"],"sources":["C:/Users/Charles/Desktop/Projects/Instagram clone/instagram-clone/node_modules/pg/lib/native/client.js"],"sourcesContent":["'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\n// eslint-disable-next-line\nvar Native = require('pg-native')\nvar TypeOverrides = require('../type-overrides')\nvar semver = require('semver')\nvar pkg = require('../../package.json')\nvar assert = require('assert')\nvar EventEmitter = require('events').EventEmitter\nvar util = require('util')\nvar ConnectionParameters = require('../connection-parameters')\n\nvar msg = 'Version >= ' + pkg.minNativeVersion + ' of pg-native required.'\nassert(semver.gte(Native.version, pkg.minNativeVersion), msg)\n\nvar NativeQuery = require('./query')\n\nvar Client = (module.exports = function (config) {\n  EventEmitter.call(this)\n  config = config || {}\n\n  this._Promise = config.Promise || global.Promise\n  this._types = new TypeOverrides(config.types)\n\n  this.native = new Native({\n    types: this._types,\n  })\n\n  this._queryQueue = []\n  this._ending = false\n  this._connecting = false\n  this._connected = false\n  this._queryable = true\n\n  // keep these on the object for legacy reasons\n  // for the time being. TODO: deprecate all this jazz\n  var cp = (this.connectionParameters = new ConnectionParameters(config))\n  this.user = cp.user\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: cp.password,\n  })\n  this.database = cp.database\n  this.host = cp.host\n  this.port = cp.port\n\n  // a hash to hold named queries\n  this.namedQueries = {}\n})\n\nClient.Query = NativeQuery\n\nutil.inherits(Client, EventEmitter)\n\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = (query) => {\n    process.nextTick(() => {\n      query.native = this.native\n      query.handleError(err)\n    })\n  }\n\n  if (this._hasActiveQuery()) {\n    enqueueError(this._activeQuery)\n    this._activeQuery = null\n  }\n\n  this._queryQueue.forEach(enqueueError)\n  this._queryQueue.length = 0\n}\n\n// connect to the backend\n// pass an optional callback to be called once connected\n// or with an error if there was a connection error\nClient.prototype._connect = function (cb) {\n  var self = this\n\n  if (this._connecting) {\n    process.nextTick(() => cb(new Error('Client has already been connected. You cannot reuse a client.')))\n    return\n  }\n\n  this._connecting = true\n\n  this.connectionParameters.getLibpqConnectionString(function (err, conString) {\n    if (err) return cb(err)\n    self.native.connect(conString, function (err) {\n      if (err) {\n        self.native.end()\n        return cb(err)\n      }\n\n      // set internal states to connected\n      self._connected = true\n\n      // handle connection errors from the native layer\n      self.native.on('error', function (err) {\n        self._queryable = false\n        self._errorAllQueries(err)\n        self.emit('error', err)\n      })\n\n      self.native.on('notification', function (msg) {\n        self.emit('notification', {\n          channel: msg.relname,\n          payload: msg.extra,\n        })\n      })\n\n      // signal we are connected now\n      self.emit('connect')\n      self._pulseQueryQueue(true)\n\n      cb()\n    })\n  })\n}\n\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback)\n    return\n  }\n\n  return new this._Promise((resolve, reject) => {\n    this._connect((error) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\n// send a query to the server\n// this method is highly overloaded to take\n// 1) string query, optional array of parameters, optional function callback\n// 2) object query with {\n//    string query\n//    optional array values,\n//    optional function callback instead of as a separate parameter\n//    optional string name to name & cache the query plan\n//    optional string rowMode = 'array' for an array of results\n//  }\nClient.prototype.query = function (config, values, callback) {\n  var query\n  var result\n  var readTimeout\n  var readTimeoutTimer\n  var queryCallback\n\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query')\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    result = query = config\n    // accept query(new Query(...), (err, res) => { }) style\n    if (typeof values === 'function') {\n      config.callback = values\n    }\n  } else {\n    readTimeout = this.connectionParameters.query_timeout\n    query = new NativeQuery(config, values, callback)\n    if (!query.callback) {\n      let resolveOut, rejectOut\n      result = new this._Promise((resolve, reject) => {\n        resolveOut = resolve\n        rejectOut = reject\n      })\n      query.callback = (err, res) => (err ? rejectOut(err) : resolveOut(res))\n    }\n  }\n\n  if (readTimeout) {\n    queryCallback = query.callback\n\n    readTimeoutTimer = setTimeout(() => {\n      var error = new Error('Query read timeout')\n\n      process.nextTick(() => {\n        query.handleError(error, this.connection)\n      })\n\n      queryCallback(error)\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {}\n\n      // Remove from queue\n      var index = this._queryQueue.indexOf(query)\n      if (index > -1) {\n        this._queryQueue.splice(index, 1)\n      }\n\n      this._pulseQueryQueue()\n    }, readTimeout)\n\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer)\n      queryCallback(err, res)\n    }\n  }\n\n  if (!this._queryable) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'))\n    })\n    return result\n  }\n\n  if (this._ending) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'))\n    })\n    return result\n  }\n\n  this._queryQueue.push(query)\n  this._pulseQueryQueue()\n  return result\n}\n\n// disconnect from the backend server\nClient.prototype.end = function (cb) {\n  var self = this\n\n  this._ending = true\n\n  if (!this._connected) {\n    this.once('connect', this.end.bind(this, cb))\n  }\n  var result\n  if (!cb) {\n    result = new this._Promise(function (resolve, reject) {\n      cb = (err) => (err ? reject(err) : resolve())\n    })\n  }\n  this.native.end(function () {\n    self._errorAllQueries(new Error('Connection terminated'))\n\n    process.nextTick(() => {\n      self.emit('end')\n      if (cb) cb()\n    })\n  })\n  return result\n}\n\nClient.prototype._hasActiveQuery = function () {\n  return this._activeQuery && this._activeQuery.state !== 'error' && this._activeQuery.state !== 'end'\n}\n\nClient.prototype._pulseQueryQueue = function (initialConnection) {\n  if (!this._connected) {\n    return\n  }\n  if (this._hasActiveQuery()) {\n    return\n  }\n  var query = this._queryQueue.shift()\n  if (!query) {\n    if (!initialConnection) {\n      this.emit('drain')\n    }\n    return\n  }\n  this._activeQuery = query\n  query.submit(this)\n  var self = this\n  query.once('_done', function () {\n    self._pulseQueryQueue()\n  })\n}\n\n// attempt to cancel an in-progress query\nClient.prototype.cancel = function (query) {\n  if (this._activeQuery === query) {\n    this.native.cancel(function () {})\n  } else if (this._queryQueue.indexOf(query) !== -1) {\n    this._queryQueue.splice(this._queryQueue.indexOf(query), 1)\n  }\n}\n\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn)\n}\n\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format)\n}\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,WAAW,CAAC;AACjC,IAAIC,aAAa,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAChD,IAAIE,MAAM,GAAGF,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIG,GAAG,GAAGH,OAAO,CAAC,oBAAoB,CAAC;AACvC,IAAII,MAAM,GAAGJ,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIK,YAAY,GAAGL,OAAO,CAAC,QAAQ,CAAC,CAACK,YAAY;AACjD,IAAIC,IAAI,GAAGN,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIO,oBAAoB,GAAGP,OAAO,CAAC,0BAA0B,CAAC;AAE9D,IAAIQ,GAAG,GAAG,aAAa,GAAGL,GAAG,CAACM,gBAAgB,GAAG,yBAAyB;AAC1EL,MAAM,CAACF,MAAM,CAACQ,GAAG,CAACX,MAAM,CAACY,OAAO,EAAER,GAAG,CAACM,gBAAgB,CAAC,EAAED,GAAG,CAAC;AAE7D,IAAII,WAAW,GAAGZ,OAAO,CAAC,SAAS,CAAC;AAEpC,IAAIa,MAAM,GAAIC,MAAM,CAACC,OAAO,GAAG,UAAUC,MAAM,EAAE;EAC/CX,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC;EACvBD,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAC;EAErB,IAAI,CAACE,QAAQ,GAAGF,MAAM,CAACG,OAAO,IAAIC,MAAM,CAACD,OAAO;EAChD,IAAI,CAACE,MAAM,GAAG,IAAIpB,aAAa,CAACe,MAAM,CAACM,KAAK,CAAC;EAE7C,IAAI,CAACC,MAAM,GAAG,IAAIxB,MAAM,CAAC;IACvBuB,KAAK,EAAE,IAAI,CAACD;EACd,CAAC,CAAC;EAEF,IAAI,CAACG,WAAW,GAAG,EAAE;EACrB,IAAI,CAACC,OAAO,GAAG,KAAK;EACpB,IAAI,CAACC,WAAW,GAAG,KAAK;EACxB,IAAI,CAACC,UAAU,GAAG,KAAK;EACvB,IAAI,CAACC,UAAU,GAAG,IAAI;;EAEtB;EACA;EACA,IAAIC,EAAE,GAAI,IAAI,CAACC,oBAAoB,GAAG,IAAIvB,oBAAoB,CAACS,MAAM,CAAE;EACvE,IAAI,CAACe,IAAI,GAAGF,EAAE,CAACE,IAAI;;EAEnB;EACA;EACAC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;IACtCC,YAAY,EAAE,IAAI;IAClBC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE,IAAI;IACdC,KAAK,EAAER,EAAE,CAACS;EACZ,CAAC,CAAC;EACF,IAAI,CAACC,QAAQ,GAAGV,EAAE,CAACU,QAAQ;EAC3B,IAAI,CAACC,IAAI,GAAGX,EAAE,CAACW,IAAI;EACnB,IAAI,CAACC,IAAI,GAAGZ,EAAE,CAACY,IAAI;;EAEnB;EACA,IAAI,CAACC,YAAY,GAAG,CAAC,CAAC;AACxB,CAAE;AAEF7B,MAAM,CAAC8B,KAAK,GAAG/B,WAAW;AAE1BN,IAAI,CAACsC,QAAQ,CAAC/B,MAAM,EAAER,YAAY,CAAC;AAEnCQ,MAAM,CAACgC,SAAS,CAACC,gBAAgB,GAAG,UAAUC,GAAG,EAAE;EACjD,MAAMC,YAAY,GAAIC,KAAK,IAAK;IAC9BC,OAAO,CAACC,QAAQ,CAAC,MAAM;MACrBF,KAAK,CAAC1B,MAAM,GAAG,IAAI,CAACA,MAAM;MAC1B0B,KAAK,CAACG,WAAW,CAACL,GAAG,CAAC;IACxB,CAAC,CAAC;EACJ,CAAC;EAED,IAAI,IAAI,CAACM,eAAe,CAAC,CAAC,EAAE;IAC1BL,YAAY,CAAC,IAAI,CAACM,YAAY,CAAC;IAC/B,IAAI,CAACA,YAAY,GAAG,IAAI;EAC1B;EAEA,IAAI,CAAC9B,WAAW,CAAC+B,OAAO,CAACP,YAAY,CAAC;EACtC,IAAI,CAACxB,WAAW,CAACgC,MAAM,GAAG,CAAC;AAC7B,CAAC;;AAED;AACA;AACA;AACA3C,MAAM,CAACgC,SAAS,CAACY,QAAQ,GAAG,UAAUC,EAAE,EAAE;EACxC,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAI,IAAI,CAACjC,WAAW,EAAE;IACpBwB,OAAO,CAACC,QAAQ,CAAC,MAAMO,EAAE,CAAC,IAAIE,KAAK,CAAC,+DAA+D,CAAC,CAAC,CAAC;IACtG;EACF;EAEA,IAAI,CAAClC,WAAW,GAAG,IAAI;EAEvB,IAAI,CAACI,oBAAoB,CAAC+B,wBAAwB,CAAC,UAAUd,GAAG,EAAEe,SAAS,EAAE;IAC3E,IAAIf,GAAG,EAAE,OAAOW,EAAE,CAACX,GAAG,CAAC;IACvBY,IAAI,CAACpC,MAAM,CAACwC,OAAO,CAACD,SAAS,EAAE,UAAUf,GAAG,EAAE;MAC5C,IAAIA,GAAG,EAAE;QACPY,IAAI,CAACpC,MAAM,CAACyC,GAAG,CAAC,CAAC;QACjB,OAAON,EAAE,CAACX,GAAG,CAAC;MAChB;;MAEA;MACAY,IAAI,CAAChC,UAAU,GAAG,IAAI;;MAEtB;MACAgC,IAAI,CAACpC,MAAM,CAAC0C,EAAE,CAAC,OAAO,EAAE,UAAUlB,GAAG,EAAE;QACrCY,IAAI,CAAC/B,UAAU,GAAG,KAAK;QACvB+B,IAAI,CAACb,gBAAgB,CAACC,GAAG,CAAC;QAC1BY,IAAI,CAACO,IAAI,CAAC,OAAO,EAAEnB,GAAG,CAAC;MACzB,CAAC,CAAC;MAEFY,IAAI,CAACpC,MAAM,CAAC0C,EAAE,CAAC,cAAc,EAAE,UAAUzD,GAAG,EAAE;QAC5CmD,IAAI,CAACO,IAAI,CAAC,cAAc,EAAE;UACxBC,OAAO,EAAE3D,GAAG,CAAC4D,OAAO;UACpBC,OAAO,EAAE7D,GAAG,CAAC8D;QACf,CAAC,CAAC;MACJ,CAAC,CAAC;;MAEF;MACAX,IAAI,CAACO,IAAI,CAAC,SAAS,CAAC;MACpBP,IAAI,CAACY,gBAAgB,CAAC,IAAI,CAAC;MAE3Bb,EAAE,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED7C,MAAM,CAACgC,SAAS,CAACkB,OAAO,GAAG,UAAUS,QAAQ,EAAE;EAC7C,IAAIA,QAAQ,EAAE;IACZ,IAAI,CAACf,QAAQ,CAACe,QAAQ,CAAC;IACvB;EACF;EAEA,OAAO,IAAI,IAAI,CAACtD,QAAQ,CAAC,CAACuD,OAAO,EAAEC,MAAM,KAAK;IAC5C,IAAI,CAACjB,QAAQ,CAAEkB,KAAK,IAAK;MACvB,IAAIA,KAAK,EAAE;QACTD,MAAM,CAACC,KAAK,CAAC;MACf,CAAC,MAAM;QACLF,OAAO,CAAC,CAAC;MACX;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA5D,MAAM,CAACgC,SAAS,CAACI,KAAK,GAAG,UAAUjC,MAAM,EAAE4D,MAAM,EAAEJ,QAAQ,EAAE;EAC3D,IAAIvB,KAAK;EACT,IAAI4B,MAAM;EACV,IAAIC,WAAW;EACf,IAAIC,gBAAgB;EACpB,IAAIC,aAAa;EAEjB,IAAIhE,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAKiE,SAAS,EAAE;IAC3C,MAAM,IAAIC,SAAS,CAAC,6CAA6C,CAAC;EACpE,CAAC,MAAM,IAAI,OAAOlE,MAAM,CAACmE,MAAM,KAAK,UAAU,EAAE;IAC9CL,WAAW,GAAG9D,MAAM,CAACoE,aAAa,IAAI,IAAI,CAACtD,oBAAoB,CAACsD,aAAa;IAC7EP,MAAM,GAAG5B,KAAK,GAAGjC,MAAM;IACvB;IACA,IAAI,OAAO4D,MAAM,KAAK,UAAU,EAAE;MAChC5D,MAAM,CAACwD,QAAQ,GAAGI,MAAM;IAC1B;EACF,CAAC,MAAM;IACLE,WAAW,GAAG,IAAI,CAAChD,oBAAoB,CAACsD,aAAa;IACrDnC,KAAK,GAAG,IAAIrC,WAAW,CAACI,MAAM,EAAE4D,MAAM,EAAEJ,QAAQ,CAAC;IACjD,IAAI,CAACvB,KAAK,CAACuB,QAAQ,EAAE;MACnB,IAAIa,UAAU,EAAEC,SAAS;MACzBT,MAAM,GAAG,IAAI,IAAI,CAAC3D,QAAQ,CAAC,CAACuD,OAAO,EAAEC,MAAM,KAAK;QAC9CW,UAAU,GAAGZ,OAAO;QACpBa,SAAS,GAAGZ,MAAM;MACpB,CAAC,CAAC;MACFzB,KAAK,CAACuB,QAAQ,GAAG,CAACzB,GAAG,EAAEwC,GAAG,KAAMxC,GAAG,GAAGuC,SAAS,CAACvC,GAAG,CAAC,GAAGsC,UAAU,CAACE,GAAG,CAAE;IACzE;EACF;EAEA,IAAIT,WAAW,EAAE;IACfE,aAAa,GAAG/B,KAAK,CAACuB,QAAQ;IAE9BO,gBAAgB,GAAGS,UAAU,CAAC,MAAM;MAClC,IAAIb,KAAK,GAAG,IAAIf,KAAK,CAAC,oBAAoB,CAAC;MAE3CV,OAAO,CAACC,QAAQ,CAAC,MAAM;QACrBF,KAAK,CAACG,WAAW,CAACuB,KAAK,EAAE,IAAI,CAACc,UAAU,CAAC;MAC3C,CAAC,CAAC;MAEFT,aAAa,CAACL,KAAK,CAAC;;MAEpB;MACA;MACA1B,KAAK,CAACuB,QAAQ,GAAG,MAAM,CAAC,CAAC;;MAEzB;MACA,IAAIkB,KAAK,GAAG,IAAI,CAAClE,WAAW,CAACmE,OAAO,CAAC1C,KAAK,CAAC;MAC3C,IAAIyC,KAAK,GAAG,CAAC,CAAC,EAAE;QACd,IAAI,CAAClE,WAAW,CAACoE,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MACnC;MAEA,IAAI,CAACnB,gBAAgB,CAAC,CAAC;IACzB,CAAC,EAAEO,WAAW,CAAC;IAEf7B,KAAK,CAACuB,QAAQ,GAAG,CAACzB,GAAG,EAAEwC,GAAG,KAAK;MAC7BM,YAAY,CAACd,gBAAgB,CAAC;MAC9BC,aAAa,CAACjC,GAAG,EAAEwC,GAAG,CAAC;IACzB,CAAC;EACH;EAEA,IAAI,CAAC,IAAI,CAAC3D,UAAU,EAAE;IACpBqB,KAAK,CAAC1B,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B2B,OAAO,CAACC,QAAQ,CAAC,MAAM;MACrBF,KAAK,CAACG,WAAW,CAAC,IAAIQ,KAAK,CAAC,gEAAgE,CAAC,CAAC;IAChG,CAAC,CAAC;IACF,OAAOiB,MAAM;EACf;EAEA,IAAI,IAAI,CAACpD,OAAO,EAAE;IAChBwB,KAAK,CAAC1B,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B2B,OAAO,CAACC,QAAQ,CAAC,MAAM;MACrBF,KAAK,CAACG,WAAW,CAAC,IAAIQ,KAAK,CAAC,wCAAwC,CAAC,CAAC;IACxE,CAAC,CAAC;IACF,OAAOiB,MAAM;EACf;EAEA,IAAI,CAACrD,WAAW,CAACsE,IAAI,CAAC7C,KAAK,CAAC;EAC5B,IAAI,CAACsB,gBAAgB,CAAC,CAAC;EACvB,OAAOM,MAAM;AACf,CAAC;;AAED;AACAhE,MAAM,CAACgC,SAAS,CAACmB,GAAG,GAAG,UAAUN,EAAE,EAAE;EACnC,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAI,CAAClC,OAAO,GAAG,IAAI;EAEnB,IAAI,CAAC,IAAI,CAACE,UAAU,EAAE;IACpB,IAAI,CAACoE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC/B,GAAG,CAACgC,IAAI,CAAC,IAAI,EAAEtC,EAAE,CAAC,CAAC;EAC/C;EACA,IAAImB,MAAM;EACV,IAAI,CAACnB,EAAE,EAAE;IACPmB,MAAM,GAAG,IAAI,IAAI,CAAC3D,QAAQ,CAAC,UAAUuD,OAAO,EAAEC,MAAM,EAAE;MACpDhB,EAAE,GAAIX,GAAG,IAAMA,GAAG,GAAG2B,MAAM,CAAC3B,GAAG,CAAC,GAAG0B,OAAO,CAAC,CAAE;IAC/C,CAAC,CAAC;EACJ;EACA,IAAI,CAAClD,MAAM,CAACyC,GAAG,CAAC,YAAY;IAC1BL,IAAI,CAACb,gBAAgB,CAAC,IAAIc,KAAK,CAAC,uBAAuB,CAAC,CAAC;IAEzDV,OAAO,CAACC,QAAQ,CAAC,MAAM;MACrBQ,IAAI,CAACO,IAAI,CAAC,KAAK,CAAC;MAChB,IAAIR,EAAE,EAAEA,EAAE,CAAC,CAAC;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOmB,MAAM;AACf,CAAC;AAEDhE,MAAM,CAACgC,SAAS,CAACQ,eAAe,GAAG,YAAY;EAC7C,OAAO,IAAI,CAACC,YAAY,IAAI,IAAI,CAACA,YAAY,CAAC2C,KAAK,KAAK,OAAO,IAAI,IAAI,CAAC3C,YAAY,CAAC2C,KAAK,KAAK,KAAK;AACtG,CAAC;AAEDpF,MAAM,CAACgC,SAAS,CAAC0B,gBAAgB,GAAG,UAAU2B,iBAAiB,EAAE;EAC/D,IAAI,CAAC,IAAI,CAACvE,UAAU,EAAE;IACpB;EACF;EACA,IAAI,IAAI,CAAC0B,eAAe,CAAC,CAAC,EAAE;IAC1B;EACF;EACA,IAAIJ,KAAK,GAAG,IAAI,CAACzB,WAAW,CAAC2E,KAAK,CAAC,CAAC;EACpC,IAAI,CAAClD,KAAK,EAAE;IACV,IAAI,CAACiD,iBAAiB,EAAE;MACtB,IAAI,CAAChC,IAAI,CAAC,OAAO,CAAC;IACpB;IACA;EACF;EACA,IAAI,CAACZ,YAAY,GAAGL,KAAK;EACzBA,KAAK,CAACkC,MAAM,CAAC,IAAI,CAAC;EAClB,IAAIxB,IAAI,GAAG,IAAI;EACfV,KAAK,CAAC8C,IAAI,CAAC,OAAO,EAAE,YAAY;IAC9BpC,IAAI,CAACY,gBAAgB,CAAC,CAAC;EACzB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA1D,MAAM,CAACgC,SAAS,CAACuD,MAAM,GAAG,UAAUnD,KAAK,EAAE;EACzC,IAAI,IAAI,CAACK,YAAY,KAAKL,KAAK,EAAE;IAC/B,IAAI,CAAC1B,MAAM,CAAC6E,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;EACpC,CAAC,MAAM,IAAI,IAAI,CAAC5E,WAAW,CAACmE,OAAO,CAAC1C,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;IACjD,IAAI,CAACzB,WAAW,CAACoE,MAAM,CAAC,IAAI,CAACpE,WAAW,CAACmE,OAAO,CAAC1C,KAAK,CAAC,EAAE,CAAC,CAAC;EAC7D;AACF,CAAC;AAEDpC,MAAM,CAACgC,SAAS,CAACwD,aAAa,GAAG,UAAUC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;EAC/D,OAAO,IAAI,CAACnF,MAAM,CAACgF,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAEC,OAAO,CAAC;AACxD,CAAC;AAED3F,MAAM,CAACgC,SAAS,CAAC4D,aAAa,GAAG,UAAUH,GAAG,EAAEC,MAAM,EAAE;EACtD,OAAO,IAAI,CAAClF,MAAM,CAACoF,aAAa,CAACH,GAAG,EAAEC,MAAM,CAAC;AAC/C,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}